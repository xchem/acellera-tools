<tool id="Parameterize" name="Parameterize" version="0.1.0" python_template_version="3.5">
    <requirements>
        <requirement type="package" version="0.1">_libgcc_mutex</requirement>
        <requirement type="package" version="4.5">_openmp_mutex</requirement>
        <requirement type="package" version="16.16.0">ambermini</requirement>
        <requirement type="package" version="1.0.8">bzip2</requirement>
        <requirement type="package" version="2019.11.28">ca-certificates</requirement>
        <requirement type="package" version="1.16.0">cairo</requirement>
        <requirement type="package" version="2019.11.28">certifi</requirement>
        <requirement type="package" version="0.10.0">cycler</requirement>
        <requirement type="package" version="0.29.15">cython</requirement>
        <requirement type="package" version="1.13.6">dbus</requirement>
        <requirement type="package" version="4.4.2">decorator</requirement>
        <requirement type="package" version="3.2.0">dftd3</requirement>
        <requirement type="package" version="2.2.9">expat</requirement>
        <requirement type="package" version="0.1.1">ffevaluation</requirement>
        <requirement type="package" version="3.3.4">fftw3f</requirement>
        <requirement type="package" version="2.13.1">fontconfig</requirement>
        <requirement type="package" version="2.10.0">freetype</requirement>
        <requirement type="package" version="0.19.8.1">gettext</requirement>
        <requirement type="package" version="2.58.3">glib</requirement>
        <requirement type="package" version="1.14.5">gst-plugins-base</requirement>
        <requirement type="package" version="1.14.5">gstreamer</requirement>
        <requirement type="package" version="58.2">icu</requirement>
        <requirement type="package" version="0.14.1">joblib</requirement>
        <requirement type="package" version="0.2.1">jobqueues</requirement>
        <requirement type="package" version="9c">jpeg</requirement>
        <requirement type="package" version="1.1.0">kiwisolver</requirement>
        <requirement type="package" version="3.8.0">libblas</requirement>
        <requirement type="package" version="1.67.0">libboost</requirement>
        <requirement type="package" version="3.8.0">libcblas</requirement>
        <requirement type="package" version="3.2.1">libffi</requirement>
        <requirement type="package" version="7.2.0">libgcc</requirement>
        <requirement type="package" version="9.2.0">libgcc-ng</requirement>
        <requirement type="package" version="7.3.0">libgfortran-ng</requirement>
        <requirement type="package" version="9.2.0">libgomp</requirement>
        <requirement type="package" version="1.15">libiconv</requirement>
        <requirement type="package" version="3.8.0">liblapack</requirement>
        <requirement type="package" version="8.0.1">libllvm8</requirement>
        <requirement type="package" version="0.3.7">libopenblas</requirement>
        <requirement type="package" version="1.6.37">libpng</requirement>
        <requirement type="package" version="9.2.0">libstdcxx-ng</requirement>
        <requirement type="package" version="4.1.0">libtiff</requirement>
        <requirement type="package" version="2.32.1">libuuid</requirement>
        <requirement type="package" version="1.13">libxcb</requirement>
        <requirement type="package" version="2.9.9">libxml2</requirement>
        <requirement type="package" version="9.0.1">llvm-openmp</requirement>
        <requirement type="package" version="0.31.0">llvmlite</requirement>
        <requirement type="package" version="1.8.3">lz4-c</requirement>
        <requirement type="package" version="0.0.6">match</requirement>
        <requirement type="package" version="3.1.1">matplotlib</requirement>
        <requirement type="package" version="3.1.1">matplotlib-base</requirement>
        <requirement type="package" version="11.1">mkl-rt</requirement>
        <requirement type="package" version="0.2.8">moleculekit</requirement>
        <requirement type="package" version="7.0.1">natsort</requirement>
        <requirement type="package" version="6.1">ncurses</requirement>
        <requirement type="package" version="2.4">networkx</requirement>
        <requirement type="package" version="2.6.1">nlopt</requirement>
        <requirement type="package" version="0.48.0">numba</requirement>
        <requirement type="package" version="1.18.1">numpy</requirement>
        <requirement type="package" version="0.46">olefile</requirement>
        <requirement type="package" version="7.4.1">openmm</requirement>
        <requirement type="package" version="1.1.1d">openssl</requirement>
        <requirement type="package" version="0.25.3">pandas</requirement>
        <requirement type="package" version="1.1.1">parameterize</requirement>
        <requirement type="package" version="3.2.0">parmed</requirement>
        <requirement type="package" version="8.44">pcre</requirement>
        <requirement type="package" version="7.0.0">pillow</requirement>
        <requirement type="package" version="20.0.2">pip</requirement>
        <requirement type="package" version="0.38.0">pixman</requirement>
        <requirement type="package" version="0.3.0">protocolinterface</requirement>
        <requirement type="package" version="1.0.54">psi4</requirement>
        <requirement type="package" version="5.7.0">psutil</requirement>
        <requirement type="package" version="0.4">pthread-stubs</requirement>
        <requirement type="package" version="1.67.0">py-boost</requirement>
        <requirement type="package" version="2.4.6">pyparsing</requirement>
        <requirement type="package" version="5.9.2">pyqt</requirement>
        <requirement type="package" version="3.6.7">python</requirement>
        <requirement type="package" version="2.8.1">python-dateutil</requirement>
        <requirement type="package" version="2019.3">pytz</requirement>
        <requirement type="package" version="5.3">pyyaml</requirement>
        <requirement type="package" version="5.9.7">qt</requirement>
        <requirement type="package" version="2019.03.4.0">rdkit</requirement>
        <requirement type="package" version="8.0">readline</requirement>
        <requirement type="package" version="0.22.2.post1">scikit-learn</requirement>
        <requirement type="package" version="1.4.1">scipy</requirement>
        <requirement type="package" version="45.1.0">setuptools</requirement>
        <requirement type="package" version="4.19.8">sip</requirement>
        <requirement type="package" version="1.14.0">six</requirement>
        <requirement type="package" version="3.30.1">sqlite</requirement>
        <requirement type="package" version="8.6.10">tk</requirement>
        <requirement type="package" version="6.0.4">tornado</requirement>
        <requirement type="package" version="4.7.2">tqdm</requirement>
        <requirement type="package" version="0.34.2">wheel</requirement>
        <requirement type="package" version="1.0.7">xorg-kbproto</requirement>
        <requirement type="package" version="1.0.10">xorg-libice</requirement>
        <requirement type="package" version="1.2.3">xorg-libsm</requirement>
        <requirement type="package" version="1.6.9">xorg-libx11</requirement>
        <requirement type="package" version="1.0.9">xorg-libxau</requirement>
        <requirement type="package" version="1.1.3">xorg-libxdmcp</requirement>
        <requirement type="package" version="1.3.4">xorg-libxext</requirement>
        <requirement type="package" version="0.9.10">xorg-libxrender</requirement>
        <requirement type="package" version="0.11.1">xorg-renderproto</requirement>
        <requirement type="package" version="7.3.0">xorg-xextproto</requirement>
        <requirement type="package" version="7.0.31">xorg-xproto</requirement>
        <requirement type="package" version="5.2.4">xz</requirement>
        <requirement type="package" version="0.2.2">yaml</requirement>
        <requirement type="package" version="1.2.11">zlib</requirement>
        <requirement type="package" version="1.4.4">zstd</requirement>
    </requirements>

    <command detect_errors="exit_code"><![CDATA[
        ln -s '$molecule' mymol.mol2 &&

        #if  $charge
        -c $charge
        #end if

        parameterize --no-dihed --charge-type Gasteiger --seed 01 mymol.mol2
    ]]>
    </command>

    <inputs>
        <param type="data" name="molecule" format="mol2" />
        <param name="charge" type="integer" optional="true" label="Global charge. Defauls to sum of partial charges."/>
    </inputs>
    <outputs>
        <data name="molout" format="mol2" from_work_dir="parameters/GAFF2/mol.mol2" />
        <data name="frcmod" format="frcmod" from_work_dir="parameters/GAFF2/mol.frcmod" />
        <data name="energies" format="txt" from_work_dir="parameters/GAFF2/energies.txt" />

    </outputs>
    <tests>
        <test>
            <param name="molecule" value="nilotinib.mol2"/>
            <output name="molout" file="mytest.mol2" compare="sim_size"/>
        </test>
    </tests>
    <help><![CDATA[
    Generates a .frcmod file for a given molecule provided as .mol2 file. This .frcmod file can be then used to build a ligand-protein system and run MD simulations.
        

    Check license conditions at: https://software.acellera.com/news/license.pdf

    A molecule in mol2 file format must be provided. The global charge can be also especified as an integer. If left empty, the sum of partial charges will be used.

    ]]></help>


    <citations>
        <citation type="doi">10.1021/acs.jcim.9b00439</citation>
    </citations>

</tool>
